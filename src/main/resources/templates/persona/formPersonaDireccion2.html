<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

    <head th:replace="layout/cabecera::head">
        <title>Inicio</title>
        <meta charset="utf-8"/>     
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
        <meta name="description" content=""/>
        <meta name="author" content=""/>

        <link rel='stylesheet' href='/webjars/bootstrap/css/bootstrap.min.css' />
        <script src="webjars/jquery/jquery.js"></script>
        <script src="webjars/bootstrap/js/bootstrap.min.js"></script>

    </head>

    <body id="page-top">

        
        
        
        <br>
		<div class="myForm">
			<form th:action="@{/apiempleado/guardardireccion}" method="post" id="addressBookForm"
				name="addressBookForm">
				<div class="modal fade" id="exampleModal" tabindex="-1"
					role="dialog" aria-labelledby="exampleModalLabel"
					aria-hidden="true">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">Addressbook
								</h5>
								<button type="button" class="close" data-dismiss="modal"
									aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<div class="form-group" hidden="true">
									<label for="id" class="col-form-label">ID:</label> <input
										type="text" class="form-control form-control-sm btn-space"
										id="id" name="id" />
								</div>
								<div class="row">
									<label class="col-md-4 control-label boldlabel text-right"
										for="firstname">Firstname:</label>
									<div class="col-md-7 pull-left">
										<input type="text"
											class="form-control form-control-sm btn-space" id="firstname"
											name="firstname" />
									</div>
								</div>
								<div class="row">
									<label class="col-md-4 control-label boldlabel text-right"
										for="lastname">Lastname:</label>
									<div class="col-md-7 pull-left">
										<input type="text"
											class="form-control form-control-sm btn-space" id="lastname"
											name="lastname" />
									</div>
								</div>
								<div class="row">
									<label class="col-md-4 control-label boldlabel text-right"
										for="phonenumber">Phonenumber:</label>
									<div class="col-md-7 pull-left">
										<input type="text"
											class="form-control form-control-sm btn-space"
											id="phonenumber" name="phonenumber" />
									</div>
								</div>
								<div class="row">
									<label class="col-md-4 control-label boldlabel text-right"
										for="email">Email:</label>
									<div class="col-md-7 pull-left">
										<input type="text"
											class="form-control form-control-sm btn-space" id="email"
											name="email" />
									</div>
								</div>
								<div class="row">
									<label class="col-md-4 control-label boldlabel text-right"
										for="address">Address:</label>
									<div class="col-md-7 pull-left">
										<input type="text"
											class="form-control form-control-sm btn-space" id="address"
											name="address" />
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-sm btn-secondary btn-space"
									data-dismiss="modal">Close</button>
								<input type="submit" class="btn btn-sm btn-primary btn-space"
									value="Save" />
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
        
        
        
        
        

        <!-- Page Wrapper -->
        <div id="wrapper">

            <div th:replace="layout/menu :: menu"></div>


            <!-- Content Wrapper -->
            <div id="content-wrapper" class="d-flex flex-column">

                <!-- Main Content -->
                <div id="content">

                    <div th:replace="layout/nav :: nav"></div>

                    <!-- Begin Page Content arriba -->
                    <div class="container-fluid">

                        <!-- Page Heading -->
                        <h1 class="h3 mb-4 text-gray-800">Persona</h1>

                        <div class="row">

                            <div class="col-lg-12">

                                <!-- Circle Buttons -->
                                <div class="card shadow mb-4">
                                    <div class="card-header py-3">
                                        <h6 class="m-0 font-weight-bold text-primary">Informaci√≥n</h6>
                                    </div>
                                    <!--  <div class="card-body"> -->
                                    <!-- Outer Row -->
                                    <div class="row justify-content-center">

                                        <div class="col-xl-10 col-lg-16 col-md-12">

                                            <div class="card o-hidden border-0 shadow-lg my-5">
                                                <div class="card-body p-0">
                                                    <!-- Nested Row within Card Body -->
                                                    <div class="row">

                                                        <div class="col-lg-12">
                                                            <div class="p-5">
                                                                <div class="text-center">
                                                                    <h1 class="h4 text-gray-900 mb-4">Datos de Persona</h1>
                                                                </div>
                                                                <form class="user" th:action="@{/apiempleado/guardarPersona}" th:object="${persona}"  method="post" enctype="multipart/form-data">
                                                                    <div class="row g-3">

                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <label for="tipoIdentificacion">Tipo Identificacion</label>
                                                                                <select class="form-control" name="tipoIdentificacion" th:field="*{tipoIdentificacion.idTipoIdentificacion}" id="tipoIdentificacion">
                                                                                    <option th:each="tipoIdentificacion : ${tipoIndentificacions}" 
                                                                                            th:value="${tipoIdentificacion.idTipoIdentificacion}"
                                                                                            th:text="${tipoIdentificacion.nombreTipoIdentificacion}">
                                                                                    </option>
                                                                                </select>
                                                                            </div>
                                                                        </div>


                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <input type="text"  th:field="*{identificacion}" class="form-control form-control-user"
                                                                                       id="identificacion" name="identificacion" placeholder="identificacion">
                                                                                    <input type="hidden" th:field="*{idPersona}"/> 
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <input type="text"  th:field="*{apellido}" class="form-control form-control-user"
                                                                                       id="apellido" name="apellido" placeholder="Apellido">

                                                                            </div>
                                                                        </div>

                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <input type="text"  th:field="*{nombre}" class="form-control form-control-user"
                                                                                       id="nombre" name="nombre" placeholder="Nombre">
                                                                            </div>
                                                                        </div>


                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <input type="text"  th:field="*{email}" class="form-control form-control-user"
                                                                                       id="email" name="email" placeholder="Email">
                                                                            </div>
                                                                        </div>


                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <label for="estadoCivil">Estado Civil</label>
                                                                                <select class="form-control" name="estadoCivil" th:field="*{estadoCivil.idEstadoCivil}" id="estadoCivil">
                                                                                    <option th:each="estadoCivil : ${estadoCivils}" 
                                                                                            th:value="${estadoCivil.idEstadoCivil}"
                                                                                            th:text="${estadoCivil.nombreEstadoCivil}">
                                                                                    </option>
                                                                                </select>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <label for="genero">Genero</label>
                                                                                <select class="form-control" name="genero" th:field="*{genero.idGenero}" id="genero">
                                                                                    <option th:each="genero : ${generos}" 
                                                                                            th:value="${genero.idGenero}"
                                                                                            th:text="${genero.nombreGenero}">
                                                                                    </option>
                                                                                </select>
                                                                            </div>
                                                                        </div>


                                                                        <div class="col-sm-6">

                                                                            <div class="form-group">
                                                                                <div class="mb-3 form-check form-switch">
                                                                                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" checked>
                                                                                        <label class="form-check-label" for="flexSwitchCheckChecked">Activar Licencia</label>
                                                                                </div>                                                                                
                                                                                <select class="form-control" name="licencia" th:field="*{licencia.idTipoLicencia}" id="licencia">
                                                                                    <option th:each="licencia : ${licencias}" 
                                                                                            th:value="${licencia.idTipoLicencia}"
                                                                                            th:text="${licencia.nombreTipoLicencia}">
                                                                                    </option>
                                                                                </select>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">

                                                                                <div class="mb-3 form-check form-switch">
                                                                                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" checked>
                                                                                        <label class="form-check-label" for="flexSwitchCheckChecked">Activar Tipo Vehiculo</label>
                                                                                </div> 
                                                                                <select class="form-control" name="tipoVehiculo" th:field="*{tipoVehiculo.idTipoVehiculo}" id="tipoVehiculo">
                                                                                    <option th:each="tipoVehiculo : ${tipoVehiculos}" 
                                                                                            th:value="${tipoVehiculo.idTipoVehiculo}"
                                                                                            th:text="${tipoVehiculo.nombreTipoVehiculo}">
                                                                                    </option>
                                                                                </select>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <div class="form-check">
                                                                                    <label>Estado</label>
                                                                                    <input type="checkbox" th:field="*{estatus}" id="estatus" name="estatus" value="1"/>

                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <hr>


                                                                            <button type="submit" class="btn btn-success btn-block">
                                                                                <i class="fas fa-check"></i> Grabar
                                                                            </button>



                                                                    </div>
                                                                </form>
                                                                <main class="container">
                                                                    <div class="col-sm-6">
                                                                        <div class="form-group">
                                                                            <label for="tipoDireccion">Tipo Direccion</label>
                                                                            <select class="form-control" name="tipoDireccion"  id="tipoDireccion" th:onchange ="'javascript:openContactsModal(\''+ 2 + '\');'" >
                                                                                <option th:each="tipoDireccion : ${tipoDireccions}" 
                                                                                        th:value="${tipoDireccion.idTipoDireccion}"
                                                                                        th:text="${tipoDireccion.nombreTipoDireccion}">
                                                                                </option>
                                                                            </select>

                                                                        </div>
                                                                    </div>
                                                                    <div id="ajax"></div>

                                                                </main>

                                                                <!-- comment 
                                                                <section th:replace="direccion/botonesAgregarDirec :: botonesAgregarDirec"></section>

                                                                <section th:replace="direccion/formDireccion :: formDireccion"></section>
                                                                -->
                                                                
                                                               <!-- 
                                                                <div class="card-body">

                                                                    
                                                                    <a th:href="@{/apiempleado/agregarDireccion}" class="btn btn-success btn-icon-split">
                                                                        <span class="icon text-white-50">
                                                                            <i class="fas fa-check"></i>
                                                                        </span>
                                                                        <span class="text">Crear Registro         </span>
                                                                    </a>
                                                                </div>
                                                               comment -->
                                                                <hr></hr>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                    </div>

                                    <!--  </div> -->
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- End of Main Content -->


                <!-- /.container-fluid -->
            </div>

        </div>
        <!-- End of Content Wrapper -->


        <div th:replace="layout/cabecera::scripts"></div>


        <script th:src="@{../assets/dist/js/bootstrap.bundle.min.js}"></script>

        <div class="modal fade" id="myModal" tabindex="-1" role="dialog">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Delete Confirmation</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<p>Are you sure you want to delete it?</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-sm btn-secondary"
						data-dismiss="modal">Close</button>
					<a href="" class="btn btn-sm btn-danger" id="delRef">Delete</a>
				</div>
			</div>
		</div>
	</div>
        <!-- <script th:src="@{cheatsheet.js}"></script>-->



        <script type="text/javascript">
            function carga_ajax_get(ruta, valor, div)
            {
                var selObj = document.getElementById("tipoDireccion");
                var selValue = selObj.options[selObj.selectedIndex].value;

                // var selCalleObj = document.getElementById("callePrincipal");
                //var selCalleValue = selCalleObj.options[selObj.selectedIndex].value;
                //Setting Value
                //document.getElementById("textFieldValueJS").value = selValue;
                alert(selValue);

                $.get(ruta, {valor: valor}, function (resp) {
                    $("#" + div + "").html(resp);
                });
                return false;

            }


            $(document).ready(function () {
                $("#tipoDireccion").load("/apiempleado/refreshItem", $("#tipDireccion").serialize());
            });


            function singleSelectChangeValue() {
                //Getting Value
                //var selValue = document.getElementById("singleSelectDD").value;
                var selObj = document.getElementById("tipoDireccion");
                var selValue = selObj.options[selObj.selectedIndex].value;
                // $("#tipoDireccion").load("/apiempleado/refreshItem", $("#tipDireccion").serialize());
                //Setting Value
                //document.getElementById("textFieldValueJS").value = selValue;
                alert(selValue);
            }


            function openContactsModal(id) {
                alert(id);
                $.ajax({
                    url: "/apiempleado/findOne?id=" + id,
                    success: function (data) {
                        alert(id);
                        //alert(data);
                        var myJSON = JSON.stringify(data);

                        //alert(myJSON);

                        var tmpData = JSON.parse(myJSON);
                        var formattedJson = JSON.stringify(tmpData, null, ' ');

                        //alert(formattedJson);

                        /*
                         $('#myContactid').html('Id is : ' + data.id);
                         $('#myContactfirstname').html('FirstName is : ' + data.firstname);
                         $('#myContactlastname').html('LastName is : ' + data.lastname);
                         $('#myContactphonenumber').html('Phone Number is : ' + data.phonenumber);
                         $('#myContactemail').html('Email-Id is : ' + data.email);
                         $('#myContactaddress').html('Address is : ' + data.address);
                         $('#myContactModal').modal("show");
                         
                         */
                    }

                });
            }
            
            
            
            $(function() {
			$("form[name='addressBookForm']").validate({
				rules : {
					// The key name on the left side is the name attribute
					// of an input field. Validation rules are defined
					// on the right side
					firstname : "required",
					lastname : "required",
					email : {
						required : true,
						// Specify that email should be validated
						// by the built-in "email" rule
						email : true
					},
					address : {
						required : true,
						minlength : 1,
						maxlength : 40,
					},
					phonenumber : {
						required : true,
						minlength : 10,
						maxlength : 10,
						digits : true
					}
				},
				// Specify validation error messages
				messages : {
					firstname : "Please enter your firstname",
					lastname : "Please enter your lastname",
					email : "Please enter a valid email address",
					address : "Please enter a valid address"
				},
				// Make sure the form is submitted to the destination defined
				// in the "action" attribute of the form when valid
				submitHandler : function(form) {
					form.submit();
				}
			});
		});
            
            
        </script>



    </body>



</html>